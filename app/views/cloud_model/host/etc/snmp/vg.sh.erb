#!/bin/sh

result=( $(/sbin/vgs  --separator ':' --units k) )
header=( $(/bin/echo "${result[0]}" | tr ":" "\n") )
header_length=${#header[@]}

for ((i=0; i<$header_length; i++))
do
	header[$i]=`echo ${header[$i]} | sed s/^#/num_/ | sed s/^VG/dev/ | tr '[:upper:]' '[:lower:]'`
done

for i in "${result[@]:1}"
do
	rows=( $(/bin/echo $i | tr ":" "\n") )
	line=""
	
	for (( j=0 ; j<$header_length; j++ ))
	do
		line="${line} ${header[$j]}=${rows[$j]}"
	done
	echo $line
done